(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{222:function(t,e,a){var i=a(249);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,a(13).default)("24caf822",i,!0,{})},223:function(t,e,a){var i=a(252);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,a(13).default)("7202f66c",i,!0,{})},225:function(t,e,a){var i=a(285);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,a(13).default)("58b8e5a6",i,!0,{})},228:function(t,e,a){"use strict";e.__esModule=!0;var i=function(t){return t&&t.__esModule?t:{default:t}}(a(229));e.default=function(t){if(Array.isArray(t)){for(var e=0,a=Array(t.length);e<t.length;e++)a[e]=t[e];return a}return(0,i.default)(t)}},229:function(t,e,a){t.exports={default:a(230),__esModule:!0}},230:function(t,e,a){a(98),a(231),t.exports=a(15).Array.from},231:function(t,e,a){"use strict";var i=a(33),r=a(18),o=a(64),n=a(102),s=a(103),c=a(65),d=a(232),l=a(100);r(r.S+r.F*!a(104)(function(t){Array.from(t)}),"Array",{from:function(t){var e,a,r,p,u=o(t),f="function"==typeof this?this:Array,h=arguments.length,v=1<h?arguments[1]:void 0,b=void 0!==v,m=0,g=l(u);if(b&&(v=i(v,2<h?arguments[2]:void 0,2)),null==g||f==Array&&s(g))for(a=new f(e=c(u.length));e>m;m++)d(a,m,b?v(u[m],m):u[m]);else for(p=g.call(u),a=new f;!(r=p.next()).done;m++)d(a,m,b?n(p,v,[r.value,m],!0):r.value);return a.length=m,a}})},232:function(t,e,a){"use strict";var i=a(30),r=a(67);t.exports=function(t,e,a){e in t?i.f(t,e,r(0,a)):t[e]=a}},233:function(t){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAiCAYAAABfqvm9AAAAAXNSR0IArs4c6QAAAwtJREFUSA2dlktoE1EUhpukBIXSILaItj7qEwWrgiAUii0uuhBdqLhQEaGmgS66cdFNEUS6caGL4qJNmhBMRHQlRUtjaX0sRHAluHHrQkVcKKStefqd6dxwZkzITC/cOef+c84//7n3zp1pabFbIpHYPTMzc9yMN2qDkphMJveWy+W31Wp1aXZ29uRGySQvkEqlDhSLxSXIum2i39ihWCz2wR77MsFSqbSHjA6VFcHPUX6fwjy7wWg0+oroc/RVldWO4oV4PN6vME+uNYcjIyOLRJ8NBAJ5ldUG6TykAwpr6gZ0hCiqVCovwdoUvsqDztsPVXB911JoblH+O5KHGP8xGHYzfY45Fbxpcyg00dPT06fwF+iyQKb9xbnI6r8wQD1bl1ACZT+yA3K4W0wi6gv0y1Ty3GBu6yhZ3xweHv4YCoXOgP0yOIsUZo6fMdcXDOa2DRWaQJJ7IVqkdxoMW0LpVRbqqcIst6FCE0h5n/AHIfhhMGwr/TFzfUVhltuUUKJQ8hmFA7jfZCyNcQjziAquW4B9aVqyDmbrHIRoCaxL4RXUR3loUjBPCk0ySV/wT9O/GgwrHAke9lAwXwolQRpl9qD0NX3XOmJdq+Fw+JgvhSY5Eon8xP9uxrYNFAqFDt8KM5lM+8rKyjzqHMdbMBh8z47o86WQbRLJ5/M5NxmLMiVkotQzYTablVdQjjl5z2sNsgcs1pgBPJWcTqe3rq2tyUF8wiSKheweZOMOTA/q+XzAOjkk5NXr1feZs0nKnNCY+LLbGza2xzYOA/mAHXUF3UHZbRdmDRsSsgDbiRCyI67ECc7Euy6sNqy7KMxZF/MjG/dwLXLdGYds0oU5hv8tCnO2k+/0MlH7dCQPuEWZ9zVWz3cQyu8Ic7aMsh4dDNkYZFMaa+TXSpbfEcjeaDKIqiSOeiWTh1gKUbbfVmZ+R2SPCVkMsrgEem2tfIwO8aMkq7lDJckZd5N9llKYJ7cVom66/rKVIbsBWcYTgyvIKpk9NwjJHPc20a9R5hNXnP8hb0U//ZL/TGfGP2X+LE4MnxYkAAAAAElFTkSuQmCC"},243:function(t,e,a){"use strict";var i={props:{click:{type:Function,default:function(){}},type:{type:String,default:"default"},customClass:{type:String,default:""},text:{type:String,default:""},horizontalPadding:{type:[String,Number],default:10},verticalPadding:{type:[String,Number],default:1},disable:{type:Boolean,default:!1},beforeIcon:{type:String,default:""},afterIcon:{type:String,default:""}},mounted:function(){},methods:{stop:function(t){t.preventDefault(),t.stopPropagation()},_click:function(t){this.disable||this.click(t)}},components:{},data:function(){return{}}},r=(a(248),a(7)),o=Object(r.a)(i,function(){var t,e,a=this,i=a.$createElement,r=a._self._c||i;return r("div",{class:(t={borderBtnWrap:!0,disable:a.disable},t[a.customClass]=a.customClass,t),on:{click:a._click,mouseup:a.stop}},[r("div",{class:(e={borderRadius:!0,btn:!0},e[a.type+"Theme"]=!0,e),style:{padding:a.verticalPadding+"px "+a.horizontalPadding+"px"}},[a.beforeIcon?r("div",{staticClass:"beforeIcon",style:{backgroundImage:"url("+a.beforeIcon+")"}}):a._e(),a._v(" "),r("div",{staticClass:"text",style:{marginLeft:a.beforeIcon?"4px":"0",marginRight:a.afterIcon?"4px":"0"}},[a._t("default",[a._v(a._s(a.text))])],2),a._v(" "),a.afterIcon?r("div",{staticClass:"afterIcon",style:{backgroundImage:"url("+a.afterIcon+")"}}):a._e()]),a._v(" "),r("div",{staticClass:"activeMask borderRadius"})])},[],!1,null,"688f1531",null);e.a=o.exports},248:function(t,e,a){"use strict";var i=a(222);a.n(i).a},249:function(t,e,a){(t.exports=a(12)(!1)).push([t.i,'.borderBtnWrap[data-v-688f1531]{position:relative;cursor:pointer}.borderBtnWrap:active .activeMask[data-v-688f1531]{display:block}.borderBtnWrap .borderRadius[data-v-688f1531]{border-radius:4px}.borderBtnWrap .activeMask[data-v-688f1531]{display:none;position:absolute;top:0;left:0;width:100%;height:100%;background-color:hsla(0,0%,39%,.15)}.borderBtnWrap .btn[data-v-688f1531]{box-sizing:border-box;font-size:12px;display:flex;align-items:center}.borderBtnWrap .btn>div[data-v-688f1531]{background-size:contain;background-repeat:no-repeat}.borderBtnWrap .btn .afterIcon[data-v-688f1531],.borderBtnWrap .btn .beforeIcon[data-v-688f1531]{width:12px;height:12px;background-position:50% 50%}.borderBtnWrap .btn .beforeIcon[data-v-688f1531]{transform:translateY(-1px)}.borderBtnWrap .btn .text[data-v-688f1531]{font-family:PingFangSC-Regular;font-size:12px;letter-spacing:0}.borderBtnWrap .defaultTheme[data-v-688f1531]{background:#fff;color:#666;border:1px solid #d8d8d8}.borderBtnWrap .blueTheme[data-v-688f1531]{border:1px solid #06a7ff;background-color:#06a7ff;color:#fff}.borderBtnWrap .redTheme[data-v-688f1531]{border:1px solid #f3a89e}.borderBtnWrap .whiteTheme[data-v-688f1531]{background-color:#fff;color:#000}.disable[data-v-688f1531]{position:relative;cursor:default}.disable[data-v-688f1531]:after{content:"";position:absolute;width:100%;height:100%;top:0;left:0}.disable:active .activeMask[data-v-688f1531]{display:none}',""])},251:function(t,e,a){"use strict";var i=a(223);a.n(i).a},252:function(t,e,a){(t.exports=a(12)(!1)).push([t.i,".listDescWrap[data-v-186f674e]{display:flex;justify-content:space-between;height:25px;font-size:12px;padding:0 5px 0 15px;align-items:center;font-family:PingFangSC-Regular;font-size:11px;color:#666;letter-spacing:0}.listDescWrap .fileStatus[data-v-186f674e]{font-family:PingFangSC-Regular;font-size:12px;color:#999;letter-spacing:0}",""])},254:function(t,e,a){"use strict";var i={props:{filesLength:{type:Number,default:0},selectedLength:{type:Number,default:0}},methods:{},data:function(){return{}},computed:{}},r=(a(251),a(7)),o=Object(r.a)(i,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"listDescWrap"},[t._t("default",[t._v("По умолчанию имя маршрута может быть заменено на различные компоненты, связанные с состоянием")]),t._v(" "),a("div",{staticClass:"fileStatus"},[t._v("\n        "+t._s(t.selectedLength?"Выбранно"+t.selectedLength+"Файл/ папка":"Итого загруженно"+t.filesLength+"файла")+"\n    ")])],2)},[],!1,null,"186f674e",null);e.a=o.exports},255:function(t,e,a){"use strict";var i=a(254),r=a(14),o=Object(r.createNamespacedHelpers)("history"),n=(o.mapState,o.mapActions,{name:"DirStep",props:{filesLength:{type:Number,default:0},selectedLength:{type:Number,default:0},curDirArr:{type:Array,default:function(){return[]}}},data:function(){return{}},methods:{jumpCurrentDir:function(t){this.$emit("redirectPath",this.curDirArr[t],t)},convertPath:function(t){switch(t){case"/":t="Все документы";break;case"/apps":t="Данные моего приложения";break;default:t=t.replace("/","")}return t}},watch:{},computed:{dirArr:function(){return this.curDirArr.map(function(t){return 0<t.lastIndexOf("/")?t.substr(t.lastIndexOf("/")+1,t.length-1):t})}},components:{ListDesc:i.a},created:function(){},mounted:function(){}}),s=(a(284),a(7)),c=Object(s.a)(n,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("ListDesc",{attrs:{filesLength:t.filesLength,selectedLength:t.selectedLength}},[2>=t.dirArr.length?a("div",{staticClass:"pathHistory"},t._l(t.dirArr,function(e,i){return a("div",{key:i,class:{pathBox:!0,clickAblePath:i+1<t.dirArr.length}},[a("div",{staticClass:"path pointer",on:{click:function(){return t.jumpCurrentDir(i)}}},[t._v(t._s(t._f("defalutPathMap")(e)))]),t._v(" "),i+1<t.dirArr.length?a("div",{staticClass:"arrow"}):t._e()])}),0):a("div",{staticClass:"pathHistory"},t._l(t.dirArr,function(e,i){return a("div",{key:i,class:{pathBox:!0,clickAblePath:i+1<t.dirArr.length}},[0==i||i==t.dirArr.length-1?[a("div",{staticClass:"path pointer",on:{click:function(){return t.jumpCurrentDir(i)}}},[t._v(t._s(t._f("defalutPathMap")(e)))]),t._v(" "),i+1<t.dirArr.length?a("div",{staticClass:"arrow"}):t._e()]:1==i?[a("div",{staticClass:"path"},[t._v("...")]),t._v(" "),i+1<t.dirArr.length?a("div",{staticClass:"arrow"}):t._e()]:t._e()],2)}),0)])],1)},[],!1,null,"13c7c508",null);e.a=c.exports},257:function(t,e,a){"use strict";var i=a(9);e.a=((t,e={})=>{const{cookies:a,data:r,params:o}=e;let n="[";switch(o.opera){case"delete":r.filelist.forEach((t,e)=>{n+=`"${t}"`,r.filelist.length>e+1&&(n+=",")});break;case"rename":r.filelist.forEach((t,e)=>{n+="{",n+=`"path": "${t.path}", "newname": "${t.newname}"`,n+="}",r.filelist.length>e+1&&(n+=",")})}n+="]";let s=1;null!=r.async&&(s=r.async),"json"==r.type&&(n=JSON.stringify(r.filelist));const c={method:"post",url:i.b,data:`filelist=${n}`,params:Object.assign({async:s},o)};return a&&Object.assign(c,{headers:{Cookie:a}}),t(c)})},284:function(t,e,a){"use strict";var i=a(225);a.n(i).a},285:function(t,e,a){var i=a(63);(t.exports=a(12)(!1)).push([t.i,".white-space[data-v-13c7c508]{padding:5px 0 5px 6px}.pathHistory[data-v-13c7c508]{box-sizing:border-box;color:#333;height:20px;line-height:20px}.pathHistory .pathBox[data-v-13c7c508],.pathHistory[data-v-13c7c508]{display:flex;align-items:center}.pathHistory .pathBox .path[data-v-13c7c508]{margin-right:5px;max-width:220px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-size:12px}.pathHistory .pathBox .arrow[data-v-13c7c508]{margin-right:5px;width:5px;height:8.5px;background-image:url("+i(a(233))+");background-size:contain;background-repeat:no-repeat;background-position:50% 50%}.pathHistory .clickAblePath[data-v-13c7c508]{color:#999}.pathHistory .clickAblePath:hover .path[data-v-13c7c508]{color:#4691fe}.pathHistory .pointer[data-v-13c7c508]{cursor:pointer}",""])},303:function(t,e,a){"use strict";var i=a(9),r=a(34),o=a.n(r);e.a=((t,e={})=>{const{cookies:a,data:r}=e,n={method:"post",url:i.e,data:o.a.stringify(Object.assign(Object.assign({},r,{size:0,isdir:1,block_list:[],method:"post"})))};return a&&Object.assign(n,{headers:{Cookie:a}}),t(n)})},338:function(t,e){"use strict";e.a=(t=>{for(var e=0,a=0;a<t.length;a++)127<t.charCodeAt(a)||94==t.charCodeAt(a)?e+=2:e++;return e})},367:function(t,e,a){var i=a(608);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,a(13).default)("75846090",i,!0,{})},368:function(t,e,a){var i=a(610);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,a(13).default)("45a07eff",i,!0,{})},607:function(t,e,a){"use strict";var i=a(367);a.n(i).a},608:function(t,e,a){(t.exports=a(12)(!1)).push([t.i,".headerWrap[data-v-0dc9893b]{position:relative;height:30px;background-color:#f6f6f6;display:flex;border-bottom:1px solid #f0f0f0;box-sizing:border-box}.headerWrap .navigate[data-v-0dc9893b]{height:100%;width:200px;box-sizing:border-box;padding-left:10px;display:flex;align-items:center}.headerWrap .navigate .box[data-v-0dc9893b]{display:flex;border-radius:4px;box-sizing:border-box}.headerWrap .navigate .box .navigation[data-v-0dc9893b]{width:7.4px;height:13px;background-size:7.4px 26px;background-repeat:no-repeat}.headerWrap .navigate .box .navigationDisable[data-v-0dc9893b]{background-position:0 100%}.headerWrap .navigate .box .back[data-v-0dc9893b] .btn{border-radius:2px;border-top-right-radius:0;border-bottom-right-radius:0}.headerWrap .navigate .box .forward[data-v-0dc9893b] .borderRadius{border-radius:2px;border-top-left-radius:0;border-bottom-left-radius:0;border-left:none}.headerWrap .operate[data-v-0dc9893b]{flex:1}.headerWrap .headerWrap-title[data-v-0dc9893b]{position:absolute;top:0;left:0;width:100%;height:100%;color:#333;font-size:13px}",""])},609:function(t,e,a){"use strict";var i=a(368);a.n(i).a},610:function(t,e,a){(t.exports=a(12)(!1)).push([t.i,".content[data-v-c47dbd50]{display:flex;height:100vh;width:100vw;flex-direction:column}.c-o-m-panel[data-v-c47dbd50]{font-size:12px;color:#666;position:relative;height:100%;display:flex;flex-direction:column;flex:1}.c-o-m-panel .c-o-m-title-row[data-v-c47dbd50],.c-o-m-panel[data-v-c47dbd50]{width:100vw}.c-o-m-panel .c-o-m-title-row[data-v-c47dbd50]{padding:8px 0;color:#545354;background-color:#fafafa}.c-o-m-panel .c-o-m-title-row .c-o-m-item-row>div[data-v-c47dbd50],.c-o-m-panel .c-o-m-title-row>div[data-v-c47dbd50]{padding-left:15px}.c-o-m-panel .c-o-m-title-row>div[data-v-c47dbd50]:not(:last-child){border-right:1px solid #d9d9db}.c-o-m-panel .width-auto[data-v-c47dbd50]{flex-grow:1}.c-o-m-panel .width-176[data-v-c47dbd50]{width:176px;min-width:176px}.c-o-m-panel .width-200[data-v-c47dbd50]{width:200px;min-width:200px}.c-o-m-panel .c-o-m-item-body[data-v-c47dbd50]{width:100vw;overflow-y:scroll}.c-o-m-panel .higherThanWrap[data-v-c47dbd50]::-webkit-scrollbar{width:0!important;opacity:0!important}.c-o-m-item-row[data-v-c47dbd50]{min-height:60px}.c-o-m-item-row>div[data-v-c47dbd50]{padding-left:15px}.c-o-m-item-row .icon[data-v-c47dbd50]{width:20px;height:20px;background-size:contain;background-repeat:no-repeat;background-position:50% 50%;margin-left:8px}.c-o-m-item-row[data-v-c47dbd50]:nth-child(2n){background-color:#fafafa}.c-o-m-item-row.bg-blue[data-v-c47dbd50]:nth-child(2n){background-color:#06a7ff}.c-o-m-item-row[data-v-c47dbd50]:hover{background-color:#f2f1f2}.bg-blue[data-v-c47dbd50]{background-color:#06a7ff;color:#fff}.c-o-m-item-row.bg-blue[data-v-c47dbd50]:hover{background-color:#06a7ff}.c-o-m-column-name[data-v-c47dbd50]{color:#000}.bg-blue .c-o-m-column-name[data-v-c47dbd50]{color:#fff}.c-o-m-item-row[data-v-c47dbd50]{border-bottom:1px solid transparent}.c-o-m-item-row.bg-blue[data-v-c47dbd50]:not(:last-child){border-bottom:1px solid #06a7ff}.tools[data-v-c47dbd50]{background-color:#eee;height:35px;padding:0 12px}.tools .mrl-20[data-v-c47dbd50]{margin-left:20px}.headerWrap[data-v-c47dbd50]{background-color:#fafafa}.pointer[data-v-c47dbd50]{cursor:pointer}.loadMore[data-v-c47dbd50]{text-align:center;width:100%;padding:10px 0;color:#666;font-size:12px;border-top:1px solid #efeeee}.loadMore span[data-v-c47dbd50]{cursor:pointer}",""])},648:function(t,e,a){"use strict";a.r(e);var i=a(35),r=a.n(i),o=a(228),n=a.n(o),s=a(1),c=a(20),d=a.n(c),l=a(243),p=a(14),u=Object(p.createNamespacedHelpers)("history"),f=u.mapState,h=u.mapActions,v={name:"HistoryController",data:function(){return{}},methods:d()({back:function(){0<this.curHistory&&(this.manual=!0,this.changeHistory({component:"curHistory",state:this.curHistory-1}),history.back())},forward:function(){this.curHistory<this.totalHistory&&(this.manual=!0,this.changeHistory({component:"curHistory",state:this.curHistory+1}),history.forward())}},h(["changeHistory"])),watch:{$route:function(){return this.manual?this.manual=!1:void this.changeHistory({component:["curHistory","totalHistory"],state:this.curHistory+1})}},computed:d()({},f(["curHistory","totalHistory"])),components:{BorderBtn:l.a},created:function(){},mounted:function(){}},b=(a(607),a(7)),m=Object(b.a)(v,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"headerWrap"},[t._m(0),t._v(" "),a("div",{staticClass:"headerWrap-title flex flex-ver flex-hor"},[t._t("default",[t._v("Пожалуйста, выберите целевой каталог")])],2)])},[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"navigate"},[e("div",{staticClass:"box"})])}],!1,null,"0dc9893b",null).exports,g=a(255),x=a(227),y=a(2),w=a(93),k=(a(19),a(257),a(214),a(303)),C=a(338),_=Object(p.createNamespacedHelpers)("history"),A=(_.mapState,_.mapActions,{name:"CopyOrMove",data:function(){return{isLoading:!1,errorNo:0,higherThanWrap:!1,curPage:1,hasLoadMore:!1,filesCompleted:!0,isCreateStatus:!1,canCreate:!1,newFolderName:"新建文件夹",filelist:[],step:0,stepList:[],cookie:-1,selectFile:{},curDirArr:["/"],isSelect:!1,$request:{},typeMap:{unzip:"Распаковать",move:"Переместить",copy:"Копировать",unZipDownLoad:"Распаковать и скачать"}}},methods:{updateScrollBar:function(){var t=this;this.$nextTick(function(){var e=t.$refs["c-o-m-fileList"].offsetHeight,a=61*t.filelist.length;t.higherThanWrap=a>e})},newFolder:function(){s.remote.app.$addStatLog("op="+this.type+"_new_folder@#type=click@#count=$1"),this.isCreateStatus&&!isLoading&&(this.$refs.mkdirInput.focus(),this.$refs.mkdirInput.select()),this.isCreateStatus=!0,this.canCreate=!0},mkdirAction:function(t){var e=this;if(this.isCreateStatus&&this.canCreate){s.remote.app.$addStatLog("op="+this.type+"_new_folder@#type=submit@#count=$1"),this.canCreate=!1;var a=this.newFolderName.trim(),i=!1,r=void 0;switch(!0){case""===a:i=!0,this.$toast("Файл не может быть пустым","failed",1e3),this.$refs.mkdirInput.focus(),this.$refs.mkdirInput.select();break;case 255<Object(C.a)(a):i=!0,this.$toast("Имя файла слишком длинное","failed",1e3),this.$refs.mkdirInput.focus(),this.$refs.mkdirInput.select();break;case this.regFileExt(a):i=!0,this.$toast("Папка не может содержать недопустимые символы","failed",1e3),this.newFolderName="新建文件夹",this.$refs.mkdirInput.focus(),this.$refs.mkdirInput.select()}if(i)return this.$nextTick(function(){e.$refs.mkdirInput.focus(),e.$refs.mkdirInput.select()}),!1;r=this.$toast("Создание папки, пожалуйста, подождите...","none");var o=this.selectFile.path||"/";o=o+"/"+a,Object(k.a)(this.$request,{data:{path:o}}).then(function(a){var i=a.data,o=a.ajaxError;a.tips;e.$closeToast(r),r=null,o?e.$toast("Создание не удалось","failed",1e3):(e.$toast("创建成功","succeed",1e3),e.isCreateStatus=!1,t&&"function"==typeof t&&t(),i.server_mtime=i.mtime,e.filelist.splice(0,0,i))})}},cancelMkdir:function(){this.isCreateStatus=!1,this.newFolderName="新建文件夹"},regFileExt:function(t){return/\/|\\|\||\<|\>|\*/.test(t)||/\./g.test(t)&&!/^.+[(?=\.)|(?<=\.)].+$/.test(t)},cancel:function(){s.ipcRenderer.send("closeChild",y.i.whichWin)},submit:function(){var t=this;this.cancelMkdir();var e=[];this.paths.forEach(function(a){var i="";-1<a.lastIndexOf("/")&&(i=encodeURIComponent(a.substr(a.lastIndexOf("/")+1,a.length)));var r="/";t.selectFile.path&&(r=encodeURIComponent(t.selectFile.path));var o={path:encodeURIComponent(a),dest:r,newname:i};"move"==t.type&&(o.ondup="overwrite"),e.push(o)}),s.remote.app.$addStatLog("op="+this.type+"_page@#type=submit@#count=$1"),s.ipcRenderer.send("fileManager",{type:this.type,filelist:e}),s.ipcRenderer.send("closeChild",y.i.whichWin)},redirectPath:function(t,e){this.mkdirAction(),this.isCreateStatus=!1,this.curDirArr.splice(e+1,this.curDirArr.length),this.bindData(t)},goChildDir:function(t){var e=this;return this.isCreateStatus?(this.mkdirAction(function(){e.isSelect=!1,e.selectFile=t,e.bindData(t.path,function(){e.curDirArr.push(t.path)})}),!1):(this.isSelect=!1,this.selectFile=t,void this.bindData(t.path,function(){e.curDirArr.push(t.path)}))},selectDir:function(t){return this.isCreateStatus?(this.mkdirAction(),!1):(this.isSelect=!0,void(this.selectFile=t))},bindData:function(t,e){var a=this,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"replace";this.isLoading=!0,new w.a({file:{path:t||"/"},head_namespace:"copyOrMove",browserwindow:y.i.whichWin,curPage:this.curPage,cb:function(t,o){a.isLoading=!1;o.cookie;var s=o.data,c=(o.operate,o.errorNo);a.errorNo=c;var d=s.files,l=void 0===d?[]:d,p=s.hasNext,u=l[l.length-1];a.hasLoadMore=p&&u&&u.is_dir,a.filesCompleted=!0;var f=l.filter(function(t){return t.is_dir});if("replace"!=i){var h;(h=a.filelist).push.apply(h,n()(f))}else{var v=f.findIndex(function(t){return"/apps"==t.path});if(-1<v){var b=r()({},f[v]);f.splice(v,1),f.splice(0,0,b)}a.filelist=f,a.curPage=1}e&&e()}})},getFileicon:function(t){var e=t.is_dir||t.isdir;return Object(x.b)(t.path,e)},loadMore:function(){this.mkdirAction(),++this.curPage,this.filesCompleted=!1;var t=this.selectFile.path||"/";this.bindData(t,null,"add")},refresh:function(){var t=this.selectFile.path||"/";this.bindData(t)},bodyClick:function(){this.mkdirAction()}},computed:{type:function(){return this.$route.query.type||"copy"},paths:function(){var t=[],e=decodeURIComponent(this.$route.query.paths);return e&&(t=e.split(",")),t},selectedLength:function(){return this.isSelect?1:0}},watch:{filelist:function(){this.updateScrollBar()},isCreateStatus:function(t){var e=this;t&&this.$nextTick(function(){e.$refs.mkdirInput.focus(),e.$refs.mkdirInput.select()})}},components:{HistoryController:m,DirStep:g.a,BorderBtn:l.a},created:function(){this.$request=s.remote.app.$request;var t=this.$route.query.childpath;this.bindData(t)},mounted:function(){this.updateScrollBar(),s.remote.app.$addStatLog("op="+this.type+"_page@#type=show@#count=$1")}}),S=(a(609),Object(b.a)(A,function(){var t,e=this,i=e.$createElement,r=e._self._c||i;return r("div",{staticClass:"content",on:{click:e.bodyClick}},[r("HistoryController",[e._v("Пожалуйста, выберите целевой каталог")]),e._v(" "),r("DirStep",{attrs:{filesLength:e.filelist.length,selectedLength:e.selectedLength,curDirArr:e.curDirArr},on:{redirectPath:e.redirectPath}}),e._v(" "),r("div",{staticClass:"c-o-m-panel"},[r("div",{ref:"title"},[e._m(0)]),e._v(" "),r("div",{class:(t={},t["c-o-m-item-body"]=!0,t.higherThanWrap=!e.higherThanWrap,t)},[e.isCreateStatus&&!e.isLoading?r("div",{staticClass:"c-o-m-item-row flex flex-ver"},[r("div",{staticClass:"icon",style:{backgroundImage:"url(\n                        "+a(236)("./"+e.getFileicon({path:"/",is_dir:!0}))+"\n                    )"}}),e._v(" "),r("div",{staticClass:"width-200 width-auto c-o-m-column-name"},[r("div",{staticClass:"filename mkdirWrap"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.newFolderName,expression:"newFolderName"}],ref:"mkdirInput",staticClass:"text",attrs:{type:"text"},domProps:{value:e.newFolderName},on:{click:function(t){t.stopPropagation()},mousedown:function(t){t.stopPropagation()},keyup:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.mkdirAction(t)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.cancelMkdir(t)}],input:function(t){t.target.composing||(e.newFolderName=t.target.value)}}})])]),e._v(" "),r("div",{staticClass:"width-176"})]):e._e(),e._v(" "),e.isLoading||0!=e.errorNo?e._e():r("div",{ref:"c-o-m-fileList"},e._l(e.filelist,function(t,i){return r("div",{key:"c-o-m-items-"+i,staticClass:"c-o-m-item-row flex flex-ver",class:[t.path==e.selectFile.path?"bg-blue":""],on:{click:function(a){return a.stopPropagation(),e.selectDir(t)}}},["/apps"==t.path?r("div",{staticClass:"icon",style:{backgroundImage:"url(\n                        "+a(417)+"\n                    )"}}):r("div",{staticClass:"icon",style:{backgroundImage:"url(\n                        "+a(236)("./"+e.getFileicon(t))+"\n                    )"}}),e._v(" "),r("div",{staticClass:"width-200 width-auto c-o-m-column-name"},[r("FileName",{attrs:{title:e._f("defalutPathMap")(t.path)}},[r("div",{staticClass:"pointer file-name",on:{click:function(a){return a.stopPropagation(),e.goChildDir(t)}}},[e._v(e._s(e._f("defalutPathMap")(t.path)))])])],1),e._v(" "),r("div",{staticClass:"width-176"},[e._v(e._s(e._f("dateFormat")(t.server_mtime)))])])}),0),e._v(" "),e.hasLoadMore?r("div",{staticClass:"loadMore",on:{click:function(t){return t.stopPropagation(),e.loadMore(t)}}},[r("span",[e._v("\n                    "+e._s(e.filesCompleted?"Нажмите, чтобы загрузить больше":"Загрузка ...")+"\n                ")])]):e._e()]),e._v(" "),r("Loading",{attrs:{isLoading:e.isLoading}}),e._v(" "),0==e.errorNo?e._e():r("ErrorPage",{attrs:{errorNo:e.errorNo},on:{click:e.refresh}})],1),e._v(" "),r("div",{staticClass:"tools flex flex-ver flex-between"},[r("div",{on:{click:function(t){return t.stopPropagation(),e.newFolder(t)}}},[r("BorderBtn",{attrs:{horizontalPadding:20,customClass:"shadow",type:"white"}},[e._v("Новая папка")])],1),e._v(" "),r("div",{staticClass:"flex"},[r("div",{on:{click:function(t){return t.stopPropagation(),e.cancel(t)}}},[r("BorderBtn",{attrs:{horizontalPadding:20,customClass:"shadow",type:"white"}},[e._v("Отмена")])],1),e._v(" "),r("div",{on:{click:function(t){return t.stopPropagation(),e.submit(t)}}},[r("BorderBtn",{attrs:{horizontalPadding:20,customClass:"shadow mrl-20",type:"blue"}},[e._v(e._s(e.typeMap[e.type]))])],1)])])],1)},[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"c-o-m-title-row flex"},[a("div",{staticClass:"width-200 width-auto"},[t._v("Имя файла")]),t._v(" "),a("div",{staticClass:"width-176"},[t._v("Время модификации")])])}],!1,null,"c47dbd50",null));e.default=S.exports}}]);